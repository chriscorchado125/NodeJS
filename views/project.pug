extends layout

block content

  div#page-item-count #{count}

  div.container.project-container

    each project in data

      div.project.col

        div.project-title !{utility.highlightSearch(project.name, searchValue)}
        
        div.project-company !{utility.highlightSearch(project.company_name, searchValue)} #[span.project-date (#{project.project_date.getFullYear()})] 

        div.body-container !{utility.highlightSearch(project.description, searchValue)}

        - var cleanProjectName = project.name.replace(/(<([^>]+)>)/gi, '')
        section(class=`project-item-grid project-items${project.screenshots.length}` data-featherlight-gallery="" data-featherlight-filter="a")

          each screenshot in project.screenshots
            - var screens = screenshot.split(',')

              div.project-item.shadow(title=cleanProjectName)
                
                a.gallery(href=screens[1])
                  div.project-item-desc !{utility.highlightSearch(screens[0], searchValue)}
                  img(loading="lazy" src=screens[1] alt=screens[0] title=screens[0])

        div.project-technology !{utility.highlightSearch(project.technology, searchValue)}
